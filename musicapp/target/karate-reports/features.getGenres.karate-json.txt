{"failedCount":0,"prefixedPath":"classpath:features\/getGenres.feature","packageQualifiedName":"features.getGenres","loopIndex":-1,"relativePath":"features\/getGenres.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":118000,"millis":0.118,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:9091\/api'"}},{"result":{"nanos":147601100,"millis":147.6011,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def loginResponse = callonce read('login.feature') { username: 'Admin', password: 'Admin' }"},"stepLog":"01:13:38.665 << lock released, cached callonce: read('login.feature') { username: 'Admin', password: 'Admin' }\n","callResults":[{"prefixedPath":"classpath:features\/login.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-03-25 01:13:38 a.m.","durationMillis":141.4647,"callArg":{"username":"Admin","password":"Admin"},"failedCount":0,"packageQualifiedName":"features.login","relativePath":"features\/login.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":604900,"millis":0.6049,"status":"passed"},"step":{"comments":["# The parameters 'baseUrl', 'username' and 'password' are passed in from karate-config.js"],"line":5,"prefix":"Given","index":0,"text":"url baseUrl + '\/auth\/login'"},"stepLog":"01:13:38.519 >> lock acquired, begin callonce: read('login.feature') { username: 'Admin', password: 'Admin' }\n"},{"result":{"nanos":317900,"millis":0.3179,"status":"passed"},"step":{"line":6,"prefix":"And","index":1,"text":"request { username: \"Admin\", password: \"Admin\" }"}},{"result":{"nanos":139716000,"millis":139.716,"status":"passed"},"step":{"line":7,"prefix":"When","index":2,"text":"method post"},"stepLog":"01:13:38.526 request:\n1 > POST http:\/\/localhost:9091\/api\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: localhost:9091\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"username\":\"Admin\",\"password\":\"Admin\"}\n\n01:13:38.663 response time in milliseconds: 137\n1 < 200\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Date: Tue, 25 Mar 2025 01:13:37 GMT\n1 < Keep-Alive: timeout=60\n1 < Connection: keep-alive\n{\"jwt\":\"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGVzIjpbIkFETUlOIiwiU1BPVElGWV9VU0VSIl0sImV4cCI6MTc0Mjg2ODgxOCwiaWF0IjoxNzQyODY1MjE4fQ.1YP1LKnspTwYDN1OTe1znyVvKUnQM83oRDocAWXFDQ5dzrBimw8xt29rCVPBYpz0fIS7bBg80HoPJYSh1Ago4g\",\"username\":\"Admin\",\"roles\":[\"ADMIN\",\"SPOTIFY_USER\"]}\n\n"},{"result":{"nanos":8500,"millis":0.0085,"status":"passed"},"step":{"line":8,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":817400,"millis":0.8174,"status":"passed"},"step":{"line":9,"prefix":"*","index":4,"text":"def jwt = response.jwt"}}],"executorName":"main","line":3,"name":"Authenticate and get JWT token","description":"","durationMillis":141.4647,"startTime":1742865218523,"failed":false,"refId":"[1:3]","endTime":1742865218664,"exampleIndex":-1}],"name":"User Login","passedCount":1}]},{"result":{"nanos":247300,"millis":0.2473,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def token = loginResponse.jwt"}},{"result":{"nanos":349700,"millis":0.3497,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"header Authorization = 'Bearer ' + token"}},{"result":{"nanos":88500,"millis":0.0885,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":405200,"millis":0.4052,"status":"passed"},"step":{"line":11,"prefix":"Given","index":0,"text":"url 'http:\/\/localhost:9091\/api\/music\/genre-count'"}},{"result":{"nanos":36186500,"millis":36.1865,"status":"passed"},"step":{"line":12,"prefix":"When","index":1,"text":"method GET"},"stepLog":"01:13:38.668 request:\n1 > GET http:\/\/localhost:9091\/api\/music\/genre-count\n1 > Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGVzIjpbIkFETUlOIiwiU1BPVElGWV9VU0VSIl0sImV4cCI6MTc0Mjg2ODgxOCwiaWF0IjoxNzQyODY1MjE4fQ.1YP1LKnspTwYDN1OTe1znyVvKUnQM83oRDocAWXFDQ5dzrBimw8xt29rCVPBYpz0fIS7bBg80HoPJYSh1Ago4g\n1 > Accept: application\/json\n1 > Host: localhost:9091\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n\n\n01:13:38.702 response time in milliseconds: 33\n1 < 200\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Date: Tue, 25 Mar 2025 01:13:37 GMT\n1 < Keep-Alive: timeout=60\n1 < Connection: keep-alive\n{}\n\n"},{"result":{"nanos":8400,"millis":0.0084,"status":"passed"},"step":{"line":13,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":614200,"millis":0.6142,"status":"passed"},"step":{"line":14,"prefix":"And","index":3,"text":"match response == '#present'"}}],"executorName":"main","line":10,"name":"Fetch song genre count","description":"","durationMillis":185.6189,"startTime":1742865218516,"failed":false,"refId":"[1:10]","endTime":1742865218703,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":60100,"millis":0.0601,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:9091\/api'"}},{"result":{"nanos":1408400,"millis":1.4084,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def loginResponse = callonce read('login.feature') { username: 'Admin', password: 'Admin' }"}},{"result":{"nanos":164700,"millis":0.1647,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def token = loginResponse.jwt"}},{"result":{"nanos":156500,"millis":0.1565,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"header Authorization = 'Bearer ' + token"}},{"result":{"nanos":57900,"millis":0.0579,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":573400,"millis":0.5734,"status":"passed"},"step":{"line":17,"prefix":"Given","index":0,"text":"url 'http:\/\/localhost:9091\/api\/music\/genre-users'"}},{"result":{"nanos":58047200,"millis":58.0472,"status":"passed"},"step":{"line":18,"prefix":"When","index":1,"text":"method GET"},"stepLog":"01:13:38.713 request:\n1 > GET http:\/\/localhost:9091\/api\/music\/genre-users\n1 > Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGVzIjpbIkFETUlOIiwiU1BPVElGWV9VU0VSIl0sImV4cCI6MTc0Mjg2ODgxOCwiaWF0IjoxNzQyODY1MjE4fQ.1YP1LKnspTwYDN1OTe1znyVvKUnQM83oRDocAWXFDQ5dzrBimw8xt29rCVPBYpz0fIS7bBg80HoPJYSh1Ago4g\n1 > Accept: application\/json\n1 > Host: localhost:9091\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n\n\n01:13:38.767 response time in milliseconds: 54\n1 < 200\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Date: Tue, 25 Mar 2025 01:13:37 GMT\n1 < Keep-Alive: timeout=60\n1 < Connection: keep-alive\n{}\n\n"},{"result":{"nanos":8800,"millis":0.0088,"status":"passed"},"step":{"line":19,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":283800,"millis":0.2838,"status":"passed"},"step":{"line":20,"prefix":"And","index":3,"text":"match response == '#present'"}}],"executorName":"main","line":16,"name":"Fetch unique user count per genre","description":"","durationMillis":60.7608,"startTime":1742865218709,"failed":false,"refId":"[2:16]","endTime":1742865218770,"exampleIndex":-1}],"callDepth":0,"name":"Get Genre Count","description":"","resultDate":"2025-03-25 01:13:38 a.m.","durationMillis":246.3797,"passedCount":2}