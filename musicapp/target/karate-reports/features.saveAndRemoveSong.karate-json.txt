{"failedCount":0,"prefixedPath":"classpath:features\/saveAndRemoveSong.feature","packageQualifiedName":"features.saveAndRemoveSong","loopIndex":-1,"relativePath":"features\/saveAndRemoveSong.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":367400,"millis":0.3674,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:9091\/api'"}},{"result":{"nanos":120246100,"millis":120.2461,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def loginResponse = callonce read('login.feature') { username: 'Admin', password: 'Admin' }"},"stepLog":"23:35:38.126 << lock released, cached callonce: read('login.feature') { username: 'Admin', password: 'Admin' }\n","callResults":[{"prefixedPath":"classpath:features\/login.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-03-30 11:35:38 p.m.","durationMillis":114.5386,"callArg":{"username":"Admin","password":"Admin"},"failedCount":0,"packageQualifiedName":"features.login","relativePath":"features\/login.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":212000,"millis":0.212,"status":"passed"},"step":{"comments":["# The parameters 'baseUrl', 'username' and 'password' are passed in from karate-config.js"],"line":5,"prefix":"Given","index":0,"text":"url baseUrl + '\/auth\/login'"},"stepLog":"23:35:38.008 >> lock acquired, begin callonce: read('login.feature') { username: 'Admin', password: 'Admin' }\n"},{"result":{"nanos":140500,"millis":0.1405,"status":"passed"},"step":{"line":6,"prefix":"And","index":1,"text":"request { username: \"Admin\", password: \"Admin\" }"}},{"result":{"nanos":113857300,"millis":113.8573,"status":"passed"},"step":{"line":7,"prefix":"When","index":2,"text":"method post"}},{"result":{"nanos":23200,"millis":0.0232,"status":"passed"},"step":{"line":8,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":305600,"millis":0.3056,"status":"passed"},"step":{"line":9,"prefix":"*","index":4,"text":"def jwt = response.jwt"}}],"executorName":"main","line":3,"name":"Authenticate and get JWT token","description":"","durationMillis":114.5386,"startTime":1743374138012,"failed":false,"refId":"[1:3]","endTime":1743374138126,"exampleIndex":-1}],"name":"User Login","passedCount":1}]},{"result":{"nanos":174900,"millis":0.1749,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def token = loginResponse.jwt"}},{"result":{"nanos":195900,"millis":0.1959,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"header Authorization = 'Bearer ' + token"}},{"result":{"nanos":496800,"millis":0.4968,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":1307000,"millis":1.307,"status":"passed"},"step":{"comments":["# Generate random song details"],"background":true,"line":11,"prefix":"*","index":5,"text":"def uuid = function() { return java.util.UUID.randomUUID().toString() }"}},{"result":{"nanos":3760300,"millis":3.7603,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":6,"text":"def randomSpotifyId = uuid()"}},{"result":{"nanos":13997600,"millis":13.9976,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":7,"text":"def randomTitle = 'Song-' + uuid().substring(0, 5)"}},{"result":{"nanos":1771900,"millis":1.7719,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":8,"text":"def randomArtist = 'Artist-' + uuid().substring(0, 5)"}},{"result":{"nanos":1525900,"millis":1.5259,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":9,"text":"def randomAlbum = 'Album-' + uuid().substring(0, 5)"}},{"result":{"nanos":1763700,"millis":1.7637,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":10,"text":"def randomGenre = 'Genre-' + uuid().substring(0, 5)"}},{"result":{"nanos":14331800,"millis":14.3318,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":11,"text":"def randomDuration = (Math.floor(Math.random() * (300000 - 60000)) + 60000)"}},{"result":{"nanos":856900,"millis":0.8569,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":12,"text":"def randomSpotifyUrl = 'https:\/\/open.spotify.com\/track\/' + randomSpotifyId"}},{"result":{"nanos":420700,"millis":0.4207,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"path 'music\/save'"}},{"result":{"nanos":2620300,"millis":2.6203,"status":"passed"},"step":{"endLine":34,"line":23,"prefix":"And","docString":"{\n  \"spotifyId\": #(randomSpotifyId),\n  \"title\": #(randomTitle),\n  \"artist\": #(randomArtist),\n  \"album\": #(randomAlbum),\n  \"genre\": #(randomGenre),\n  \"durationMs\": #(randomDuration),\n  \"spotifyUrl\": #(randomSpotifyUrl)\n}","index":1,"text":"request"}},{"result":{"nanos":98643600,"millis":98.6436,"status":"passed"},"step":{"line":35,"prefix":"When","index":2,"text":"method POST"}},{"result":{"nanos":344000,"millis":0.344,"status":"passed"},"step":{"line":36,"prefix":"Then","index":3,"text":"status 201"}},{"result":{"nanos":736000,"millis":0.736,"status":"passed"},"step":{"line":37,"prefix":"*","index":4,"text":"match response contains { id: '#number' }"}},{"result":{"nanos":480200,"millis":0.4802,"status":"passed"},"step":{"line":38,"prefix":"*","index":5,"text":"def songId = response.id"}},{"result":{"nanos":4206600,"millis":4.2066,"status":"passed"},"step":{"line":39,"prefix":"*","index":6,"text":"def path = java.lang.System.getProperty('user.dir') + '\/target\/song-id.txt'"}},{"result":{"nanos":4363400,"millis":4.3634,"status":"passed"},"step":{"line":40,"prefix":"*","index":7,"text":"def Files = Java.type('java.nio.file.Files')"}},{"result":{"nanos":737700,"millis":0.7377,"status":"passed"},"step":{"line":41,"prefix":"*","index":8,"text":"def Paths = Java.type('java.nio.file.Paths')"}},{"result":{"nanos":6320300,"millis":6.3203,"status":"passed"},"step":{"line":42,"prefix":"*","index":9,"text":"eval Files.writeString(Paths.get(path), songId + '')"}}],"executorName":"main","line":21,"name":"Save a new song","description":"","durationMillis":279.669,"startTime":1743374138006,"failed":false,"refId":"[1:21]","endTime":1743374138287,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":161700,"millis":0.1617,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:9091\/api'"}},{"result":{"nanos":1605400,"millis":1.6054,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def loginResponse = callonce read('login.feature') { username: 'Admin', password: 'Admin' }"}},{"result":{"nanos":204400,"millis":0.2044,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def token = loginResponse.jwt"}},{"result":{"nanos":161300,"millis":0.1613,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"header Authorization = 'Bearer ' + token"}},{"result":{"nanos":60500,"millis":0.0605,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":206700,"millis":0.2067,"status":"passed"},"step":{"comments":["# Generate random song details"],"background":true,"line":11,"prefix":"*","index":5,"text":"def uuid = function() { return java.util.UUID.randomUUID().toString() }"}},{"result":{"nanos":1274700,"millis":1.2747,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":6,"text":"def randomSpotifyId = uuid()"}},{"result":{"nanos":1245600,"millis":1.2456,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":7,"text":"def randomTitle = 'Song-' + uuid().substring(0, 5)"}},{"result":{"nanos":1090700,"millis":1.0907,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":8,"text":"def randomArtist = 'Artist-' + uuid().substring(0, 5)"}},{"result":{"nanos":1046500,"millis":1.0465,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":9,"text":"def randomAlbum = 'Album-' + uuid().substring(0, 5)"}},{"result":{"nanos":1333000,"millis":1.333,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":10,"text":"def randomGenre = 'Genre-' + uuid().substring(0, 5)"}},{"result":{"nanos":282000,"millis":0.282,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":11,"text":"def randomDuration = (Math.floor(Math.random() * (300000 - 60000)) + 60000)"}},{"result":{"nanos":209700,"millis":0.2097,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":12,"text":"def randomSpotifyUrl = 'https:\/\/open.spotify.com\/track\/' + randomSpotifyId"}},{"result":{"nanos":1204700,"millis":1.2047,"status":"passed"},"step":{"line":46,"prefix":"*","index":0,"text":"def path = java.lang.System.getProperty('user.dir') + '\/target\/song-id.txt'"}},{"result":{"nanos":280500,"millis":0.2805,"status":"passed"},"step":{"line":47,"prefix":"*","index":1,"text":"def Files = Java.type('java.nio.file.Files')"}},{"result":{"nanos":362400,"millis":0.3624,"status":"passed"},"step":{"line":48,"prefix":"*","index":2,"text":"def Paths = Java.type('java.nio.file.Paths')"}},{"result":{"nanos":1639000,"millis":1.639,"status":"passed"},"step":{"line":49,"prefix":"*","index":3,"text":"def songId = Files.readString(Paths.get(path))"}},{"result":{"nanos":563600,"millis":0.5636,"status":"passed"},"step":{"line":51,"prefix":"Given","index":4,"text":"path 'music\/remove\/' + songId"}},{"result":{"nanos":78512600,"millis":78.5126,"status":"passed"},"step":{"line":52,"prefix":"When","index":5,"text":"method DELETE"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":53,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":836400,"millis":0.8364,"status":"passed"},"step":{"line":54,"prefix":"And","index":7,"text":"match response == 'Song removed from your collection.'"}}],"executorName":"main","line":45,"name":"Remove the saved song from user collection","description":"","durationMillis":92.3088,"startTime":1743374138294,"failed":false,"refId":"[2:45]","endTime":1743374138388,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":102500,"millis":0.1025,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:9091\/api'"}},{"result":{"nanos":1760600,"millis":1.7606,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def loginResponse = callonce read('login.feature') { username: 'Admin', password: 'Admin' }"}},{"result":{"nanos":208500,"millis":0.2085,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def token = loginResponse.jwt"}},{"result":{"nanos":158100,"millis":0.1581,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"header Authorization = 'Bearer ' + token"}},{"result":{"nanos":72500,"millis":0.0725,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":163500,"millis":0.1635,"status":"passed"},"step":{"comments":["# Generate random song details"],"background":true,"line":11,"prefix":"*","index":5,"text":"def uuid = function() { return java.util.UUID.randomUUID().toString() }"}},{"result":{"nanos":1213100,"millis":1.2131,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":6,"text":"def randomSpotifyId = uuid()"}},{"result":{"nanos":1202100,"millis":1.2021,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":7,"text":"def randomTitle = 'Song-' + uuid().substring(0, 5)"}},{"result":{"nanos":1318300,"millis":1.3183,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":8,"text":"def randomArtist = 'Artist-' + uuid().substring(0, 5)"}},{"result":{"nanos":1497700,"millis":1.4977,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":9,"text":"def randomAlbum = 'Album-' + uuid().substring(0, 5)"}},{"result":{"nanos":1415600,"millis":1.4156,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":10,"text":"def randomGenre = 'Genre-' + uuid().substring(0, 5)"}},{"result":{"nanos":309600,"millis":0.3096,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":11,"text":"def randomDuration = (Math.floor(Math.random() * (300000 - 60000)) + 60000)"}},{"result":{"nanos":238000,"millis":0.238,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":12,"text":"def randomSpotifyUrl = 'https:\/\/open.spotify.com\/track\/' + randomSpotifyId"}},{"result":{"nanos":490600,"millis":0.4906,"status":"passed"},"step":{"line":58,"prefix":"*","index":0,"text":"def path = 'target\/song-id.txt'"}},{"result":{"nanos":1809300,"millis":1.8093,"status":"passed"},"step":{"line":59,"prefix":"*","index":1,"text":"def songId = Java.type('java.nio.file.Files').readString(Java.type('java.nio.file.Paths').get(path))"}},{"result":{"nanos":603300,"millis":0.6033,"status":"passed"},"step":{"line":61,"prefix":"Given","index":2,"text":"path 'music\/' + songId"}},{"result":{"nanos":59514000,"millis":59.514,"status":"passed"},"step":{"line":62,"prefix":"When","index":3,"text":"method DELETE"}},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":63,"prefix":"Then","index":4,"text":"status 200"}},{"result":{"nanos":5653800,"millis":5.6538,"status":"passed"},"step":{"line":64,"prefix":"And","index":5,"text":"match response == 'Song deleted successfully.'"}}],"executorName":"main","line":57,"name":"Admin deletes the song","description":"","durationMillis":77.7442,"startTime":1743374138393,"failed":false,"refId":"[3:57]","endTime":1743374138473,"exampleIndex":-1}],"callDepth":0,"name":"Save and Remove Song","description":"","resultDate":"2025-03-30 11:35:38 p.m.","durationMillis":449.722,"passedCount":3}