{"failedCount":0,"prefixedPath":"classpath:features\/saveAndRemoveSong.feature","packageQualifiedName":"features.saveAndRemoveSong","loopIndex":-1,"relativePath":"features\/saveAndRemoveSong.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":870300,"millis":0.8703,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:9091\/api'"}},{"result":{"nanos":143944400,"millis":143.9444,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def loginResponse = callonce read('login.feature') { username: 'Admin', password: 'Admin' }"},"stepLog":"15:42:16.283 << lock released, cached callonce: read('login.feature') { username: 'Admin', password: 'Admin' }\n","callResults":[{"prefixedPath":"classpath:features\/login.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-04-01 03:42:17 p.m.","durationMillis":133.3755,"callArg":{"username":"Admin","password":"Admin"},"failedCount":0,"packageQualifiedName":"features.login","relativePath":"features\/login.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":217100,"millis":0.2171,"status":"passed"},"step":{"comments":["# The parameters 'baseUrl', 'username' and 'password' are passed in from karate-config.js"],"line":5,"prefix":"Given","index":0,"text":"url baseUrl + '\/auth\/login'"},"stepLog":"15:42:16.140 >> lock acquired, begin callonce: read('login.feature') { username: 'Admin', password: 'Admin' }\n"},{"result":{"nanos":164500,"millis":0.1645,"status":"passed"},"step":{"line":6,"prefix":"And","index":1,"text":"request { username: \"Admin\", password: \"Admin\" }"}},{"result":{"nanos":132747800,"millis":132.7478,"status":"passed"},"step":{"line":7,"prefix":"When","index":2,"text":"method post"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":8,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":233500,"millis":0.2335,"status":"passed"},"step":{"line":9,"prefix":"*","index":4,"text":"def jwt = response.jwt"}}],"executorName":"main","line":3,"name":"Authenticate and get JWT token","description":"","durationMillis":133.3755,"startTime":1743518536148,"failed":false,"refId":"[1:3]","endTime":1743518536283,"exampleIndex":-1}],"name":"User Login","passedCount":1}]},{"result":{"nanos":164500,"millis":0.1645,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def token = loginResponse.jwt"}},{"result":{"nanos":172900,"millis":0.1729,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"header Authorization = 'Bearer ' + token"}},{"result":{"nanos":397300,"millis":0.3973,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":1488700,"millis":1.4887,"status":"passed"},"step":{"comments":["# Generate random song details"],"background":true,"line":11,"prefix":"*","index":5,"text":"def uuid = function() { return java.util.UUID.randomUUID().toString() }"}},{"result":{"nanos":5846200,"millis":5.8462,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":6,"text":"def randomSpotifyId = uuid()"}},{"result":{"nanos":15761500,"millis":15.7615,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":7,"text":"def randomTitle = 'Song-' + uuid().substring(0, 5)"}},{"result":{"nanos":1850900,"millis":1.8509,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":8,"text":"def randomArtist = 'Artist-' + uuid().substring(0, 5)"}},{"result":{"nanos":1739700,"millis":1.7397,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":9,"text":"def randomAlbum = 'Album-' + uuid().substring(0, 5)"}},{"result":{"nanos":1813600,"millis":1.8136,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":10,"text":"def randomGenre = 'Genre-' + uuid().substring(0, 5)"}},{"result":{"nanos":18600100,"millis":18.6001,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":11,"text":"def randomDuration = (Math.floor(Math.random() * (300000 - 60000)) + 60000)"}},{"result":{"nanos":738100,"millis":0.7381,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":12,"text":"def randomSpotifyUrl = 'https:\/\/open.spotify.com\/track\/' + randomSpotifyId"}},{"result":{"nanos":318800,"millis":0.3188,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"path 'music\/save'"}},{"result":{"nanos":2129600,"millis":2.1296,"status":"passed"},"step":{"endLine":34,"line":23,"prefix":"And","docString":"{\n  \"spotifyId\": #(randomSpotifyId),\n  \"title\": #(randomTitle),\n  \"artist\": #(randomArtist),\n  \"album\": #(randomAlbum),\n  \"genre\": #(randomGenre),\n  \"durationMs\": #(randomDuration),\n  \"spotifyUrl\": #(randomSpotifyUrl)\n}","index":1,"text":"request"}},{"result":{"nanos":256219800,"millis":256.2198,"status":"passed"},"step":{"line":35,"prefix":"When","index":2,"text":"method POST"}},{"result":{"nanos":409000,"millis":0.409,"status":"passed"},"step":{"line":36,"prefix":"Then","index":3,"text":"status 201"}},{"result":{"nanos":795300,"millis":0.7953,"status":"passed"},"step":{"line":37,"prefix":"*","index":4,"text":"match response contains { id: '#number' }"}},{"result":{"nanos":762900,"millis":0.7629,"status":"passed"},"step":{"line":38,"prefix":"*","index":5,"text":"def songId = response.id"}},{"result":{"nanos":5224500,"millis":5.2245,"status":"passed"},"step":{"line":39,"prefix":"*","index":6,"text":"def path = java.lang.System.getProperty('user.dir') + '\/target\/song-id.txt'"}},{"result":{"nanos":4671100,"millis":4.6711,"status":"passed"},"step":{"line":40,"prefix":"*","index":7,"text":"def Files = Java.type('java.nio.file.Files')"}},{"result":{"nanos":874200,"millis":0.8742,"status":"passed"},"step":{"line":41,"prefix":"*","index":8,"text":"def Paths = Java.type('java.nio.file.Paths')"}},{"result":{"nanos":8663900,"millis":8.6639,"status":"passed"},"step":{"line":42,"prefix":"*","index":9,"text":"eval Files.writeString(Paths.get(path), songId + '')"}}],"executorName":"main","line":21,"name":"Save a new song","description":"","durationMillis":473.4573,"startTime":1743518536137,"failed":false,"refId":"[1:21]","endTime":1743518536613,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":81200,"millis":0.0812,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:9091\/api'"}},{"result":{"nanos":2581400,"millis":2.5814,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def loginResponse = callonce read('login.feature') { username: 'Admin', password: 'Admin' }"}},{"result":{"nanos":241100,"millis":0.2411,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def token = loginResponse.jwt"}},{"result":{"nanos":152900,"millis":0.1529,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"header Authorization = 'Bearer ' + token"}},{"result":{"nanos":58300,"millis":0.0583,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":236800,"millis":0.2368,"status":"passed"},"step":{"comments":["# Generate random song details"],"background":true,"line":11,"prefix":"*","index":5,"text":"def uuid = function() { return java.util.UUID.randomUUID().toString() }"}},{"result":{"nanos":2987200,"millis":2.9872,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":6,"text":"def randomSpotifyId = uuid()"}},{"result":{"nanos":1485300,"millis":1.4853,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":7,"text":"def randomTitle = 'Song-' + uuid().substring(0, 5)"}},{"result":{"nanos":1176300,"millis":1.1763,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":8,"text":"def randomArtist = 'Artist-' + uuid().substring(0, 5)"}},{"result":{"nanos":1165300,"millis":1.1653,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":9,"text":"def randomAlbum = 'Album-' + uuid().substring(0, 5)"}},{"result":{"nanos":2116000,"millis":2.116,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":10,"text":"def randomGenre = 'Genre-' + uuid().substring(0, 5)"}},{"result":{"nanos":355900,"millis":0.3559,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":11,"text":"def randomDuration = (Math.floor(Math.random() * (300000 - 60000)) + 60000)"}},{"result":{"nanos":258400,"millis":0.2584,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":12,"text":"def randomSpotifyUrl = 'https:\/\/open.spotify.com\/track\/' + randomSpotifyId"}},{"result":{"nanos":1653000,"millis":1.653,"status":"passed"},"step":{"line":46,"prefix":"*","index":0,"text":"def path = java.lang.System.getProperty('user.dir') + '\/target\/song-id.txt'"}},{"result":{"nanos":545100,"millis":0.5451,"status":"passed"},"step":{"line":47,"prefix":"*","index":1,"text":"def Files = Java.type('java.nio.file.Files')"}},{"result":{"nanos":419000,"millis":0.419,"status":"passed"},"step":{"line":48,"prefix":"*","index":2,"text":"def Paths = Java.type('java.nio.file.Paths')"}},{"result":{"nanos":1898400,"millis":1.8984,"status":"passed"},"step":{"line":49,"prefix":"*","index":3,"text":"def songId = Files.readString(Paths.get(path))"}},{"result":{"nanos":632300,"millis":0.6323,"status":"passed"},"step":{"line":51,"prefix":"Given","index":4,"text":"path 'music\/remove\/' + songId"}},{"result":{"nanos":243075400,"millis":243.0754,"status":"passed"},"step":{"line":52,"prefix":"When","index":5,"text":"method DELETE"}},{"result":{"nanos":22700,"millis":0.0227,"status":"passed"},"step":{"line":53,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":623300,"millis":0.6233,"status":"passed"},"step":{"line":54,"prefix":"And","index":7,"text":"match response == 'Song removed from your collection.'"}}],"executorName":"main","line":45,"name":"Remove the saved song from user collection","description":"","durationMillis":261.7653,"startTime":1743518536619,"failed":false,"refId":"[2:45]","endTime":1743518536883,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":118500,"millis":0.1185,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:9091\/api'"}},{"result":{"nanos":1569600,"millis":1.5696,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def loginResponse = callonce read('login.feature') { username: 'Admin', password: 'Admin' }"}},{"result":{"nanos":213400,"millis":0.2134,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def token = loginResponse.jwt"}},{"result":{"nanos":202900,"millis":0.2029,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"header Authorization = 'Bearer ' + token"}},{"result":{"nanos":68100,"millis":0.0681,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":237300,"millis":0.2373,"status":"passed"},"step":{"comments":["# Generate random song details"],"background":true,"line":11,"prefix":"*","index":5,"text":"def uuid = function() { return java.util.UUID.randomUUID().toString() }"}},{"result":{"nanos":1738000,"millis":1.738,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":6,"text":"def randomSpotifyId = uuid()"}},{"result":{"nanos":1396500,"millis":1.3965,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":7,"text":"def randomTitle = 'Song-' + uuid().substring(0, 5)"}},{"result":{"nanos":2169600,"millis":2.1696,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":8,"text":"def randomArtist = 'Artist-' + uuid().substring(0, 5)"}},{"result":{"nanos":1527000,"millis":1.527,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":9,"text":"def randomAlbum = 'Album-' + uuid().substring(0, 5)"}},{"result":{"nanos":6424100,"millis":6.4241,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":10,"text":"def randomGenre = 'Genre-' + uuid().substring(0, 5)"}},{"result":{"nanos":280900,"millis":0.2809,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":11,"text":"def randomDuration = (Math.floor(Math.random() * (300000 - 60000)) + 60000)"}},{"result":{"nanos":181500,"millis":0.1815,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":12,"text":"def randomSpotifyUrl = 'https:\/\/open.spotify.com\/track\/' + randomSpotifyId"}},{"result":{"nanos":478200,"millis":0.4782,"status":"passed"},"step":{"line":58,"prefix":"*","index":0,"text":"def path = 'target\/song-id.txt'"}},{"result":{"nanos":2319700,"millis":2.3197,"status":"passed"},"step":{"line":59,"prefix":"*","index":1,"text":"def songId = Java.type('java.nio.file.Files').readString(Java.type('java.nio.file.Paths').get(path))"}},{"result":{"nanos":1470500,"millis":1.4705,"status":"passed"},"step":{"line":61,"prefix":"Given","index":2,"text":"path 'music\/' + songId"}},{"result":{"nanos":180866300,"millis":180.8663,"status":"passed"},"step":{"line":62,"prefix":"When","index":3,"text":"method DELETE"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":63,"prefix":"Then","index":4,"text":"status 200"}},{"result":{"nanos":13731800,"millis":13.7318,"status":"passed"},"step":{"line":64,"prefix":"And","index":5,"text":"match response == 'Song deleted successfully.'"}}],"executorName":"main","line":57,"name":"Admin deletes the song","description":"","durationMillis":215.0018,"startTime":1743518536893,"failed":false,"refId":"[3:57]","endTime":1743518537111,"exampleIndex":-1}],"callDepth":0,"name":"Save and Remove Song","description":"","resultDate":"2025-04-01 03:42:17 p.m.","durationMillis":950.2244,"passedCount":3}