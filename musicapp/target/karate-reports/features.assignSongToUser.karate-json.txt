{"failedCount":1,"prefixedPath":"classpath:features\/assignSongToUser.feature","packageQualifiedName":"features.assignSongToUser","loopIndex":-1,"relativePath":"features\/assignSongToUser.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":87700,"millis":0.0877,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:9091\/api'"}},{"result":{"nanos":144099000,"millis":144.099,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def loginResponse = callonce read('login.feature') { username: 'Admin', password: 'Admin' }"},"stepLog":"02:16:31.307 << lock released, cached callonce: read('login.feature') { username: 'Admin', password: 'Admin' }\n","callResults":[{"prefixedPath":"classpath:features\/login.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-03-21 02:16:31 a.m.","durationMillis":130.4759,"callArg":{"username":"Admin","password":"Admin"},"failedCount":0,"packageQualifiedName":"features.login","relativePath":"features\/login.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":183800,"millis":0.1838,"status":"passed"},"step":{"comments":["# The parameters 'baseUrl', 'username' and 'password' are passed in from karate-config.js"],"line":5,"prefix":"Given","index":0,"text":"url baseUrl + '\/auth\/login'"},"stepLog":"02:16:31.170 >> lock acquired, begin callonce: read('login.feature') { username: 'Admin', password: 'Admin' }\n"},{"result":{"nanos":521600,"millis":0.5216,"status":"passed"},"step":{"line":6,"prefix":"And","index":1,"text":"request { username: \"Admin\", password: \"Admin\" }"}},{"result":{"nanos":129468900,"millis":129.4689,"status":"passed"},"step":{"line":7,"prefix":"When","index":2,"text":"method post"},"stepLog":"02:16:31.180 request:\n1 > POST http:\/\/localhost:9091\/api\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: localhost:9091\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"username\":\"Admin\",\"password\":\"Admin\"}\n\n02:16:31.306 response time in milliseconds: 124\n1 < 200\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Date: Fri, 21 Mar 2025 02:16:31 GMT\n1 < Keep-Alive: timeout=60\n1 < Connection: keep-alive\n{\"jwt\":\"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGVzIjpbIkFETUlOIiwiU1BPVElGWV9VU0VSIl0sImV4cCI6MTc0MjUyNjk5MSwiaWF0IjoxNzQyNTIzMzkxfQ.UnxvjHEjD_xAeANo-N1dbTtbEVdhJK6oELu06XiQ7anxnavq77tN1722xr0F8VCe8OKnpqZOPA4cnDhDecvlKQ\",\"username\":\"Admin\",\"roles\":[\"ADMIN\",\"SPOTIFY_USER\"]}\n\n"},{"result":{"nanos":11000,"millis":0.011,"status":"passed"},"step":{"line":8,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":290600,"millis":0.2906,"status":"passed"},"step":{"line":9,"prefix":"*","index":4,"text":"def jwt = response.jwt"}}],"executorName":"main","line":3,"name":"Authenticate and get JWT token","description":"","durationMillis":130.4759,"startTime":1742523391176,"failed":false,"refId":"[1:3]","endTime":1742523391307,"exampleIndex":-1}],"name":"User Login","passedCount":1}]},{"result":{"nanos":186900,"millis":0.1869,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def token = loginResponse.jwt"}},{"result":{"nanos":136500,"millis":0.1365,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"header Authorization = 'Bearer ' + token"}},{"result":{"nanos":390942900,"millis":390.9429,"status":"passed"},"step":{"comments":["# Run `saveSong.feature` and capture response"],"background":true,"line":11,"prefix":"*","index":4,"text":"def saveSongResponse = call read('saveAndRemoveSong.feature')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:features\/saveAndRemoveSong.feature","packageQualifiedName":"features.saveAndRemoveSong","loopIndex":-1,"relativePath":"features\/saveAndRemoveSong.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":90900,"millis":0.0909,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:9091\/api'"}},{"result":{"nanos":132006200,"millis":132.0062,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def loginResponse = callonce read('login.feature') { username: 'Admin', password: 'Admin' }"},"stepLog":"02:16:31.450 << lock released, cached callonce: read('login.feature') { username: 'Admin', password: 'Admin' }\n","callResults":[{"prefixedPath":"classpath:features\/login.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2025-03-21 02:16:31 a.m.","durationMillis":125.7234,"callArg":{"username":"Admin","password":"Admin"},"failedCount":0,"packageQualifiedName":"features.login","relativePath":"features\/login.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":180600,"millis":0.1806,"status":"passed"},"step":{"comments":["# The parameters 'baseUrl', 'username' and 'password' are passed in from karate-config.js"],"line":5,"prefix":"Given","index":0,"text":"url baseUrl + '\/auth\/login'"},"stepLog":"02:16:31.319 >> lock acquired, begin callonce: read('login.feature') { username: 'Admin', password: 'Admin' }\n"},{"result":{"nanos":211600,"millis":0.2116,"status":"passed"},"step":{"line":6,"prefix":"And","index":1,"text":"request { username: \"Admin\", password: \"Admin\" }"}},{"result":{"nanos":125042400,"millis":125.0424,"status":"passed"},"step":{"line":7,"prefix":"When","index":2,"text":"method post"},"stepLog":"02:16:31.326 request:\n1 > POST http:\/\/localhost:9091\/api\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: localhost:9091\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"username\":\"Admin\",\"password\":\"Admin\"}\n\n02:16:31.449 response time in milliseconds: 122\n1 < 200\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Date: Fri, 21 Mar 2025 02:16:31 GMT\n1 < Keep-Alive: timeout=60\n1 < Connection: keep-alive\n{\"jwt\":\"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGVzIjpbIkFETUlOIiwiU1BPVElGWV9VU0VSIl0sImV4cCI6MTc0MjUyNjk5MSwiaWF0IjoxNzQyNTIzMzkxfQ.UnxvjHEjD_xAeANo-N1dbTtbEVdhJK6oELu06XiQ7anxnavq77tN1722xr0F8VCe8OKnpqZOPA4cnDhDecvlKQ\",\"username\":\"Admin\",\"roles\":[\"ADMIN\",\"SPOTIFY_USER\"]}\n\n"},{"result":{"nanos":9300,"millis":0.0093,"status":"passed"},"step":{"line":8,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":279500,"millis":0.2795,"status":"passed"},"step":{"line":9,"prefix":"*","index":4,"text":"def jwt = response.jwt"}}],"executorName":"main","line":3,"name":"Authenticate and get JWT token","description":"","durationMillis":125.7234,"startTime":1742523391324,"failed":false,"refId":"[1:3]","endTime":1742523391450,"exampleIndex":-1}],"name":"User Login","passedCount":1}]},{"result":{"nanos":132200,"millis":0.1322,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def token = loginResponse.jwt"}},{"result":{"nanos":236900,"millis":0.2369,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"header Authorization = 'Bearer ' + token"}},{"result":{"nanos":51900,"millis":0.0519,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":827800,"millis":0.8278,"status":"passed"},"step":{"comments":["# Generate random song details"],"background":true,"line":11,"prefix":"*","index":5,"text":"def uuid = function() { return java.util.UUID.randomUUID().toString() }"}},{"result":{"nanos":1799000,"millis":1.799,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":6,"text":"def randomSpotifyId = uuid()"}},{"result":{"nanos":9505700,"millis":9.5057,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":7,"text":"def randomTitle = 'Song-' + uuid().substring(0, 5)"}},{"result":{"nanos":1620500,"millis":1.6205,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":8,"text":"def randomArtist = 'Artist-' + uuid().substring(0, 5)"}},{"result":{"nanos":1338000,"millis":1.338,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":9,"text":"def randomAlbum = 'Album-' + uuid().substring(0, 5)"}},{"result":{"nanos":1362800,"millis":1.3628,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":10,"text":"def randomGenre = 'Genre-' + uuid().substring(0, 5)"}},{"result":{"nanos":220600,"millis":0.2206,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":11,"text":"def randomDuration = (Math.floor(Math.random() * (300000 - 60000)) + 60000)"}},{"result":{"nanos":161300,"millis":0.1613,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":12,"text":"def randomSpotifyUrl = 'https:\/\/open.spotify.com\/track\/' + randomSpotifyId"}},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"path 'music\/save'"}},{"result":{"nanos":746000,"millis":0.746,"status":"passed"},"step":{"endLine":34,"line":23,"prefix":"And","docString":"{\n  \"spotifyId\": #(randomSpotifyId),\n  \"title\": #(randomTitle),\n  \"artist\": #(randomArtist),\n  \"album\": #(randomAlbum),\n  \"genre\": #(randomGenre),\n  \"durationMs\": #(randomDuration),\n  \"spotifyUrl\": #(randomSpotifyUrl)\n}","index":1,"text":"request"}},{"result":{"nanos":63276100,"millis":63.2761,"status":"passed"},"step":{"line":35,"prefix":"When","index":2,"text":"method POST"},"stepLog":"02:16:31.470 request:\n1 > POST http:\/\/localhost:9091\/api\/music\/save\n1 > Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGVzIjpbIkFETUlOIiwiU1BPVElGWV9VU0VSIl0sImV4cCI6MTc0MjUyNjk5MSwiaWF0IjoxNzQyNTIzMzkxfQ.UnxvjHEjD_xAeANo-N1dbTtbEVdhJK6oELu06XiQ7anxnavq77tN1722xr0F8VCe8OKnpqZOPA4cnDhDecvlKQ\n1 > Accept: application\/json\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 247\n1 > Host: localhost:9091\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n{\"spotifyId\":\"f242aad3-8a6e-48aa-b172-af102fa59562\",\"title\":\"Song-ba524\",\"artist\":\"Artist-2fe37\",\"album\":\"Album-559a8\",\"genre\":\"Genre-dea44\",\"durationMs\":85396,\"spotifyUrl\":\"https:\\\/\\\/open.spotify.com\\\/track\\\/f242aad3-8a6e-48aa-b172-af102fa59562\"}\n\n02:16:31.531 response time in milliseconds: 61\n1 < 201\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Date: Fri, 21 Mar 2025 02:16:31 GMT\n1 < Keep-Alive: timeout=60\n1 < Connection: keep-alive\n{\"id\":236,\"spotifyId\":\"f242aad3-8a6e-48aa-b172-af102fa59562\",\"title\":\"Song-ba524\",\"artist\":\"Artist-2fe37\",\"album\":\"Album-559a8\",\"genre\":\"Genre-dea44\",\"durationMs\":85396,\"spotifyUrl\":\"https:\/\/open.spotify.com\/track\/f242aad3-8a6e-48aa-b172-af102fa59562\",\"users\":[]}\n\n"},{"result":{"nanos":9300,"millis":0.0093,"status":"passed"},"step":{"line":36,"prefix":"Then","index":3,"text":"status 201"}},{"result":{"nanos":437600,"millis":0.4376,"status":"passed"},"step":{"line":37,"prefix":"*","index":4,"text":"match response contains { id: '#number' }"}},{"result":{"nanos":351300,"millis":0.3513,"status":"passed"},"step":{"line":38,"prefix":"*","index":5,"text":"def songId = response.id"}},{"result":{"nanos":1367400,"millis":1.3674,"status":"passed"},"step":{"line":39,"prefix":"*","index":6,"text":"def path = java.lang.System.getProperty('user.dir') + '\/target\/song-id.txt'"}},{"result":{"nanos":593300,"millis":0.5933,"status":"passed"},"step":{"line":40,"prefix":"*","index":7,"text":"def Files = Java.type('java.nio.file.Files')"}},{"result":{"nanos":1854500,"millis":1.8545,"status":"passed"},"step":{"line":41,"prefix":"*","index":8,"text":"def Paths = Java.type('java.nio.file.Paths')"}},{"result":{"nanos":1617400,"millis":1.6174,"status":"passed"},"step":{"line":42,"prefix":"*","index":9,"text":"eval Files.writeString(Paths.get(path), songId + '')"}},{"result":{"nanos":372300,"millis":0.3723,"status":"passed"},"step":{"line":43,"prefix":"*","index":10,"text":"karate.log('✅ Saved songId to:', path)"},"stepLog":"02:16:31.539 ✅ Saved songId to: C:\\Program Files\\Git\\repos\\Project_MusicApp\\musicapp\/target\/song-id.txt \n"}],"line":21,"description":"","durationMillis":220.0084,"failed":false,"tags":["save_song"],"executorName":"main","name":"Save a new song","startTime":1742523391318,"refId":"[1:21]","endTime":1742523391539,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":91600,"millis":0.0916,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:9091\/api'"}},{"result":{"nanos":2477700,"millis":2.4777,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def loginResponse = callonce read('login.feature') { username: 'Admin', password: 'Admin' }"}},{"result":{"nanos":792700,"millis":0.7927,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def token = loginResponse.jwt"}},{"result":{"nanos":142000,"millis":0.142,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"header Authorization = 'Bearer ' + token"}},{"result":{"nanos":95800,"millis":0.0958,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":142800,"millis":0.1428,"status":"passed"},"step":{"comments":["# Generate random song details"],"background":true,"line":11,"prefix":"*","index":5,"text":"def uuid = function() { return java.util.UUID.randomUUID().toString() }"}},{"result":{"nanos":4544700,"millis":4.5447,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":6,"text":"def randomSpotifyId = uuid()"}},{"result":{"nanos":1473300,"millis":1.4733,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":7,"text":"def randomTitle = 'Song-' + uuid().substring(0, 5)"}},{"result":{"nanos":2516100,"millis":2.5161,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":8,"text":"def randomArtist = 'Artist-' + uuid().substring(0, 5)"}},{"result":{"nanos":1878100,"millis":1.8781,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":9,"text":"def randomAlbum = 'Album-' + uuid().substring(0, 5)"}},{"result":{"nanos":2178100,"millis":2.1781,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":10,"text":"def randomGenre = 'Genre-' + uuid().substring(0, 5)"}},{"result":{"nanos":217300,"millis":0.2173,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":11,"text":"def randomDuration = (Math.floor(Math.random() * (300000 - 60000)) + 60000)"}},{"result":{"nanos":126700,"millis":0.1267,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":12,"text":"def randomSpotifyUrl = 'https:\/\/open.spotify.com\/track\/' + randomSpotifyId"}},{"result":{"nanos":1156700,"millis":1.1567,"status":"passed"},"step":{"line":47,"prefix":"*","index":0,"text":"def path = java.lang.System.getProperty('user.dir') + '\/target\/song-id.txt'"}},{"result":{"nanos":201200,"millis":0.2012,"status":"passed"},"step":{"line":48,"prefix":"*","index":1,"text":"def Files = Java.type('java.nio.file.Files')"}},{"result":{"nanos":147100,"millis":0.1471,"status":"passed"},"step":{"line":49,"prefix":"*","index":2,"text":"def Paths = Java.type('java.nio.file.Paths')"}},{"result":{"nanos":722400,"millis":0.7224,"status":"passed"},"step":{"line":50,"prefix":"*","index":3,"text":"def songId = Files.readString(Paths.get(path))"}},{"result":{"nanos":327900,"millis":0.3279,"status":"passed"},"step":{"line":51,"prefix":"*","index":4,"text":"karate.log('📥 Loaded songId:', songId)"},"stepLog":"02:16:31.564 📥 Loaded songId: 236 \n"},{"result":{"nanos":88700,"millis":0.0887,"status":"passed"},"step":{"line":53,"prefix":"Given","index":5,"text":"path 'music\/remove\/' + songId"}},{"result":{"nanos":75072400,"millis":75.0724,"status":"passed"},"step":{"line":54,"prefix":"When","index":6,"text":"method DELETE"},"stepLog":"02:16:31.568 request:\n1 > DELETE http:\/\/localhost:9091\/api\/music\/remove\/236\n1 > Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGVzIjpbIkFETUlOIiwiU1BPVElGWV9VU0VSIl0sImV4cCI6MTc0MjUyNjk5MSwiaWF0IjoxNzQyNTIzMzkxfQ.UnxvjHEjD_xAeANo-N1dbTtbEVdhJK6oELu06XiQ7anxnavq77tN1722xr0F8VCe8OKnpqZOPA4cnDhDecvlKQ\n1 > Accept: application\/json\n1 > Host: localhost:9091\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n\n\n02:16:31.639 response time in milliseconds: 70\n1 < 200\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Content-Type: application\/json\n1 < Content-Length: 34\n1 < Date: Fri, 21 Mar 2025 02:16:31 GMT\n1 < Keep-Alive: timeout=60\n1 < Connection: keep-alive\nSong removed from your collection.\n\n"},{"result":{"nanos":10400,"millis":0.0104,"status":"passed"},"step":{"line":55,"prefix":"Then","index":7,"text":"status 200"}},{"result":{"nanos":305200,"millis":0.3052,"status":"passed"},"step":{"line":56,"prefix":"And","index":8,"text":"match response == 'Song removed from your collection.'"}}],"executorName":"main","line":46,"name":"Remove the saved song from user collection","description":"","durationMillis":94.7089,"startTime":1742523391544,"failed":false,"refId":"[2:46]","endTime":1742523391640,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":77200,"millis":0.0772,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url 'http:\/\/localhost:9091\/api'"}},{"result":{"nanos":1188200,"millis":1.1882,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def loginResponse = callonce read('login.feature') { username: 'Admin', password: 'Admin' }"}},{"result":{"nanos":156200,"millis":0.1562,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def token = loginResponse.jwt"}},{"result":{"nanos":106400,"millis":0.1064,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"header Authorization = 'Bearer ' + token"}},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"header Accept = 'application\/json'"}},{"result":{"nanos":125800,"millis":0.1258,"status":"passed"},"step":{"comments":["# Generate random song details"],"background":true,"line":11,"prefix":"*","index":5,"text":"def uuid = function() { return java.util.UUID.randomUUID().toString() }"}},{"result":{"nanos":1152000,"millis":1.152,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":6,"text":"def randomSpotifyId = uuid()"}},{"result":{"nanos":956100,"millis":0.9561,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":7,"text":"def randomTitle = 'Song-' + uuid().substring(0, 5)"}},{"result":{"nanos":2226400,"millis":2.2264,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":8,"text":"def randomArtist = 'Artist-' + uuid().substring(0, 5)"}},{"result":{"nanos":1283100,"millis":1.2831,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":9,"text":"def randomAlbum = 'Album-' + uuid().substring(0, 5)"}},{"result":{"nanos":1031700,"millis":1.0317,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":10,"text":"def randomGenre = 'Genre-' + uuid().substring(0, 5)"}},{"result":{"nanos":170100,"millis":0.1701,"status":"passed"},"step":{"background":true,"line":17,"prefix":"*","index":11,"text":"def randomDuration = (Math.floor(Math.random() * (300000 - 60000)) + 60000)"}},{"result":{"nanos":122600,"millis":0.1226,"status":"passed"},"step":{"background":true,"line":18,"prefix":"*","index":12,"text":"def randomSpotifyUrl = 'https:\/\/open.spotify.com\/track\/' + randomSpotifyId"}},{"result":{"nanos":138700,"millis":0.1387,"status":"passed"},"step":{"line":60,"prefix":"*","index":0,"text":"def path = 'target\/song-id.txt'"}},{"result":{"nanos":726600,"millis":0.7266,"status":"passed"},"step":{"line":61,"prefix":"*","index":1,"text":"def songId = Java.type('java.nio.file.Files').readString(Java.type('java.nio.file.Paths').get(path))"}},{"result":{"nanos":276800,"millis":0.2768,"status":"passed"},"step":{"line":62,"prefix":"*","index":2,"text":"karate.log('🗑️ Admin deleting songId:', songId)"},"stepLog":"02:16:31.653 🗑️ Admin deleting songId: 236 \n"},{"result":{"nanos":105700,"millis":0.1057,"status":"passed"},"step":{"line":64,"prefix":"Given","index":3,"text":"path 'music\/' + songId"}},{"result":{"nanos":45751400,"millis":45.7514,"status":"passed"},"step":{"line":65,"prefix":"When","index":4,"text":"method DELETE"},"stepLog":"02:16:31.655 request:\n1 > DELETE http:\/\/localhost:9091\/api\/music\/236\n1 > Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGVzIjpbIkFETUlOIiwiU1BPVElGWV9VU0VSIl0sImV4cCI6MTc0MjUyNjk5MSwiaWF0IjoxNzQyNTIzMzkxfQ.UnxvjHEjD_xAeANo-N1dbTtbEVdhJK6oELu06XiQ7anxnavq77tN1722xr0F8VCe8OKnpqZOPA4cnDhDecvlKQ\n1 > Accept: application\/json\n1 > Host: localhost:9091\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n\n\n02:16:31.698 response time in milliseconds: 43\n1 < 200\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Content-Type: application\/json\n1 < Content-Length: 26\n1 < Date: Fri, 21 Mar 2025 02:16:31 GMT\n1 < Keep-Alive: timeout=60\n1 < Connection: keep-alive\nSong deleted successfully.\n\n"},{"result":{"nanos":9600,"millis":0.0096,"status":"passed"},"step":{"line":66,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":392700,"millis":0.3927,"status":"passed"},"step":{"line":67,"prefix":"And","index":6,"text":"match response == 'Song deleted successfully.'"}}],"executorName":"main","line":59,"name":"Admin deletes the song","description":"","durationMillis":56.0419,"startTime":1742523391643,"failed":false,"refId":"[3:59]","endTime":1742523391700,"exampleIndex":-1}],"callDepth":1,"name":"Save and Remove Song","description":"","resultDate":"2025-03-21 02:16:31 a.m.","durationMillis":370.7592,"passedCount":3}]},{"result":{"nanos":592300,"millis":0.5923,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":5,"text":"def songId = saveSongResponse.songId"}},{"result":{"nanos":2353700,"millis":2.3537,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":6,"text":"karate.log('[DEBUG] Retrieved song ID:', songId)"},"stepLog":"02:16:31.701 [DEBUG] Retrieved song ID: 236 \n"},{"result":{"nanos":1006000,"millis":1.006,"status":"passed"},"step":{"line":17,"prefix":"*","index":0,"text":"karate.log('[DEBUG] Assigning song to user with ID:', songId)"},"stepLog":"02:16:31.704 [DEBUG] Assigning song to user with ID: 236 \n"},{"result":{"nanos":6048700,"millis":6.0487,"status":"passed"},"step":{"line":18,"prefix":"Given","index":1,"text":"path 'music', songId, 'assign', 'user1'"}},{"result":{"nanos":166600,"millis":0.1666,"status":"passed"},"step":{"line":19,"prefix":"And","index":2,"text":"header Authorization = 'Bearer ' + token"}},{"result":{"nanos":30418600,"millis":30.4186,"status":"passed"},"step":{"line":20,"prefix":"When","index":3,"text":"method POST"},"stepLog":"02:16:31.711 request:\n1 > POST http:\/\/localhost:9091\/api\/music\/236\/assign\/user1\n1 > Authorization: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJBZG1pbiIsInJvbGVzIjpbIkFETUlOIiwiU1BPVElGWV9VU0VSIl0sImV4cCI6MTc0MjUyNjk5MSwiaWF0IjoxNzQyNTIzMzkxfQ.UnxvjHEjD_xAeANo-N1dbTtbEVdhJK6oELu06XiQ7anxnavq77tN1722xr0F8VCe8OKnpqZOPA4cnDhDecvlKQ\n1 > Host: localhost:9091\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.12)\n1 > Accept-Encoding: gzip,deflate\n\n\n02:16:31.740 response time in milliseconds: 29\n1 < 500\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Date: Fri, 21 Mar 2025 02:16:31 GMT\n1 < Connection: close\n{\"error\":\"Internal Server Error\",\"message\":\"Access Denied\"}\n\n"},{"result":{"nanos":6161400,"errorMessage":"status code was: 500, expected: 200, response time in milliseconds: 29, url: http:\/\/localhost:9091\/api\/music\/236\/assign\/user1, response: \n{\"error\":\"Internal Server Error\",\"message\":\"Access Denied\"}\nclasspath:features\/assignSongToUser.feature:21","millis":6.1614,"status":"failed"},"step":{"line":21,"prefix":"Then","index":4,"text":"status 200"},"stepLog":"02:16:31.748 classpath:features\/assignSongToUser.feature:21\nThen status 200\nstatus code was: 500, expected: 200, response time in milliseconds: 29, url: http:\/\/localhost:9091\/api\/music\/236\/assign\/user1, response: \n{\"error\":\"Internal Server Error\",\"message\":\"Access Denied\"}\nclasspath:features\/assignSongToUser.feature:21\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"And","index":5,"text":"match response == 'User assigned to song successfully.'"}}],"line":16,"description":"","durationMillis":582.2003,"failed":true,"error":"status code was: 500, expected: 200, response time in milliseconds: 29, url: http:\/\/localhost:9091\/api\/music\/236\/assign\/user1, response: \n{\"error\":\"Internal Server Error\",\"message\":\"Access Denied\"}\nclasspath:features\/assignSongToUser.feature:21","executorName":"main","name":"Admin assigns a song to a user","startTime":1742523391163,"refId":"[1:16]","endTime":1742523391748,"exampleIndex":-1}],"callDepth":0,"name":"Assign Song to User","description":"","resultDate":"2025-03-21 02:16:31 a.m.","durationMillis":582.2003,"passedCount":0}